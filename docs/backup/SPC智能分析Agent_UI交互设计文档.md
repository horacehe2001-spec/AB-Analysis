# SPC 智能分析 Agent UI 交互设计文档

- **版本**：V1.0
- **日期**：2026年1月
- **对应产品文档**：SPC智能分析Agent产品功能设计文档 V1.0

---

## 1. 设计理念 (Design Philosophy)

### 1.1 核心关键词
-   **专业 (Professional)**: 体现统计过程控制的严谨性，数据展示精确清晰。
-   **智能 (Intelligent)**: 突出“自动分析”和“主动预警”的 Agent 特性，减少用户认知负担。
-   **高效 (Efficient)**: 操作路径最短化，从上传到获取结果不超过 3 步。

### 1.2 视觉风格
-   **风格**: 现代、扁平化、科技感，采用深色模式或高对比度的浅色模式，强调数据本身。
-   **质感**: 轻微的 Glassmorphism（毛玻璃）效果用于浮层和卡片，增加层次感。
-   **动效**: 细腻的微交互（Micro-interactions），如数据点加载动画、异常点脉冲提示。

---

## 2. 视觉规范 (Visual Identity)

### 2.1 色彩体系 (Color Palette)

| 类别 | 颜色名 | 色值 (Hex) | 用途 |
| :--- | :--- | :--- | :--- |
| **主色** | Tech Blue | `#1677FF` | 按钮、选中状态、强调文字 |
| **辅助色** | Deep Space | `#001529` | 侧边栏、深色背景 |
| **功能色** | Success Green | `#52C41A` | 中心线(CL)、正常状态 |
| **功能色** | Error Red | `#FF4D4F` | 控制限(UCL/LCL)、异常点、紧急预警 |
| **功能色** | Warning Gold | `#FAAD14` | 辅助线(±1σ/2σ)、一般警告 |
| **中性色** | Text Primary | `#1F1F1F` | 主要标题、正文 |
| **中性色** | Text Secondary| `#8C8C8C` | 次要信息、辅助说明 |
| **中性色** | Border | `#F0F0F0` | 分割线、边框 |

### 2.2 字体排印 (Typography)

-   **中文字体**: PingFang SC, Microsoft YaHei UI
-   **英文字体**: Inter, Roboto, Segoe UI (优先使用无衬线字体)
-   **等宽字体**: JetBrains Mono, Consolas (用于数值显示)

---

## 3. 全局布局 (Layout)

系统采用经典的 **左侧导航 + 顶部工具栏 + 内容区域** 布局结构。

### 3.1 导航栏 (Sidebar)
-   **Logo**: 左上角 "SPC Agent" + 图标。
-   **菜单**:
    -   工作台 (Dashboard)
    -   数据管理 (Data Source)
    -   预警中心 (Alerts) `Badge: 3` (未读数)
    -   分析报告 (Reports)
-   **底部**: 用户头像、设置。

### 3.2 响应式栅格
-   **Container**: 1152px / 100% Fluid
-   **Grid**: 24 columns
-   **Gutter**: 16px / 24px

---

## 4. 关键页面设计 (Key Pages)

### 4.1 数据上传与预览页 (Upload & Preview)

#### 交互流程
1.  **空状态**: 页面中心展示巨大的虚线框上传区域，文案“把 Excel/CSV 文件拖拽到这里，或点击上传”。
2.  **上传中**: 进度条动画，伴随 Agent 分析提示语：“正在解析文件结构...”、“正在识别数据类型...”。
3.  **预览确认**:
    -   以表格形式展示前 10 行数据。
    -   **智能列识别卡片**: 浮在表格上方，显示 "检测到 '测量值' 列 (连续型)，'生产批次' 列 (分组标签)"。
    -   **Action**: 底部右侧悬浮主按钮 [开始智能分析]。

### 4.2 分析结果看板 (Analysis Dashboard)

此页面为核心交互区，分为三栏布局。

#### 4.2.1 顶部指标卡 (Top Metrics)
展示核心统计指标，平铺排列：
-   **样本总数**: `1,250`
-   **控制图类型**: `Xbar-R` (自动匹配标签)
-   **CPK**: `1.34` (绿色，良好)
-   **异常点数**: `3` (红色，高亮)

#### 4.2.2 交互式控制图 (Main Chart Area)
-   **主图表**: 使用 ECharts 渲染。
    -   **中心线 (CL)**: 绿色实线。
    -   **上下限 (UCL/LCL)**: 红色虚线，右侧显示数值标签。
    -   **数据点**:
        -   正常点: 蓝色空心圆。
        -   **异常点**: 红色实心圆，带有红色光晕呼吸动画。
-   **交互能力**:
    -   **Zoom**: 鼠标滚轮缩放时间轴。
    -   **Brush**: 框选区域查看局部统计。
    -   **Hover**: 鼠标悬停显示 Tooltip（时间、数值、样本量、子组明细）。

#### 4.2.3 右侧诊断面板 (Diagnostics Panel)
-   **标题**: "智能诊断报告"
-   **异常列表**:
    -   列表项: "点 24 触发规则 1 (超出控制限)"。点击列表项，左侧图表自动定位并高亮对应点。
-   **处理建议**:
    -   Agent 生成的自然语言建议：“检测到过程出现 3 次连续偏移，建议检查原材料批次变更情况。”

### 4.3 预警中心 (Alert Center)

-   **列表视图**: 按时间倒序排列。
-   **状态过滤**: 待处理 / 处理中 / 已解决。
-   **预警卡片**:
    -   左侧：预警等级图标 (红/黄)。
    -   中间：标题 "Xbar图检测到异常偏移"，摘要 "产线 A 之 2026-01-12 数据"。
    -   右侧：操作按钮 [查看详情] [标记已读]。

---

## 5. 组件交互规范 (Component Specs)

### 5.1 异常点高亮 (Anomaly Highlight)
当数据点触发西联规则时：
1.  **颜色**: 变为 `Error Red (#FF4D4F)`。
2.  **形状**: 增大 1.5 倍。
3.  **Tooltip**: 悬停时不仅显示数值，还在 Tooltip 底部增加一行红色警告：“触发规则 1：超出 ±3σ”。

### 5.2 加载状态 (Loading State)
由于统计计算可能耗时，需设计优雅的 Loading：
-   **Skeleton**: 使用骨架屏占位图表区域。
-   **Agent 状态条**: 顶部显示进度消息，“正在计算控制限...”、“正在扫描西联规则...”，给用户明确的系统反馈。

### 5.3 响应式适配 (Mobile Adaptation)
-   在移动端，隐藏侧边栏为汉堡菜单。
-   图表强制横屏展示，或仅展示最近 20 个点，支持左右滑动查看历史。
-   指标卡改为 2x2 网格排列。
